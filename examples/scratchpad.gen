
;; x y w h
(def rect
  (struct i32 i32 i32 i32))

(def main (fun () (
  (let rect (block (
    (let p (ref (alloca 16)))
    (store_32 p 1)
    (store_32 (+ p 4) 2)
    (store_32 (+ p 8) 3)
    (store_32 (+ p 12) 4)
    p
  )))

  (let rect2 (rect 1 2 3 4))

  (if (ccall test_struct rect)
    ((ccall print_symbol (sym SUCCESS)))
    ((ccall print_symbol (sym FAILED)))
  )
)))
